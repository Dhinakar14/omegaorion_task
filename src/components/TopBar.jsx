import { useLocation } from "react-router-dom";

export default function TopBar({ onMenuClick }) {
  const location = useLocation();
  
  const getBreadcrumbs = () => {
    if (location.pathname.startsWith("/team-management")) {
      return (
        <div className="flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-slate-800 font-semibold min-w-0">
          <span className="truncate">Team Management</span>
          <svg className="w-3 h-3 sm:w-4 sm:h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
          </svg>
          <span className="text-slate-900 font-medium truncate">Timesheet</span>
        </div>
      );
    }
    return <h1 className="text-lg sm:text-xl font-semibold truncate">People</h1>;
  };

  return (
    <header className="h-16 sm:h-20 flex items-center justify-between px-4 sm:px-6 lg:px-10 bg-white border-b border-slate-200 rounded-xl sm:rounded-2xl m-2 sm:m-4">
      <div className="min-w-0 flex-1 flex items-center gap-3">
        {/* Mobile menu button */}
        <button
          onClick={onMenuClick}
          className="lg:hidden w-8 h-8 flex items-center justify-center text-slate-600 hover:text-slate-900"
          aria-label="Toggle menu"
        >
          <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        {getBreadcrumbs()}
      </div>
      <div className="flex items-center gap-2 sm:gap-3 flex-shrink-0">
        <button className="px-2 sm:px-3 py-1 rounded-full border text-sm sm:text-lg font-medium whitespace-nowrap">
          MST
        </button>
        <div className="text-xs sm:text-sm font-medium hidden md:block border rounded-full p-1"><svg className="w-auto h-6 sm:h-7" viewBox="0 0 161 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="20" r="9" stroke="#3D3936" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle>
<path d="M11.5 16L11.5 20.5L15.5 22" stroke="#3D3936" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M32.774 21.02C32.774 17.24 34.754 14.306 37.868 14.306C41 14.306 42.962 17.24 42.962 21.02C42.962 24.8 41 27.734 37.868 27.734C34.754 27.734 32.774 24.8 32.774 21.02ZM35.06 21.02C35.06 23.774 36.122 25.646 37.868 25.646C39.632 25.646 40.694 23.774 40.694 21.02C40.694 18.266 39.632 16.394 37.868 16.394C36.122 16.394 35.06 18.266 35.06 21.02ZM44.5588 17.222V15.098C45.2068 14.648 46.2508 14.306 47.4748 14.306C50.2288 14.306 51.9748 16.088 51.9748 18.608C51.9748 21.11 50.0488 23.18 47.9788 25.574H52.5688V27.5H43.8748C47.1868 23.684 49.3648 21.344 49.5808 19.058C49.6348 18.554 49.5808 18.104 49.4368 17.726C49.1308 16.88 48.3388 16.394 47.2048 16.394C46.1068 16.394 45.1348 16.79 44.5588 17.222ZM54.3075 19.508C54.3075 18.752 54.8115 18.266 55.5855 18.266C56.3415 18.266 56.8635 18.752 56.8635 19.508C56.8635 20.246 56.3415 20.732 55.5855 20.732C54.8115 20.732 54.3075 20.246 54.3075 19.508ZM54.3075 26.51C54.3075 25.754 54.8115 25.268 55.5855 25.268C56.3415 25.268 56.8635 25.754 56.8635 26.51C56.8635 27.248 56.3415 27.734 55.5855 27.734C54.8115 27.734 54.3075 27.248 54.3075 26.51ZM58.7467 21.02C58.7467 17.24 60.7267 14.306 63.8407 14.306C66.9727 14.306 68.9347 17.24 68.9347 21.02C68.9347 24.8 66.9727 27.734 63.8407 27.734C60.7267 27.734 58.7467 24.8 58.7467 21.02ZM61.0327 21.02C61.0327 23.774 62.0947 25.646 63.8407 25.646C65.6047 25.646 66.6667 23.774 66.6667 21.02C66.6667 18.266 65.6047 16.394 63.8407 16.394C62.0947 16.394 61.0327 18.266 61.0327 21.02ZM75.5652 18.104C75.5652 16.952 74.6292 16.304 73.2252 16.304C72.1092 16.304 71.1372 16.646 70.5432 16.934V14.918C71.1732 14.63 72.3252 14.306 73.5672 14.306C76.2492 14.306 77.9052 15.746 77.9052 17.834C77.9052 19.31 76.8792 20.39 75.6732 20.84C76.9872 21.254 78.1212 22.388 78.1212 24.08C78.1212 26.312 76.2132 27.734 73.5672 27.734C71.9832 27.734 71.0292 27.374 70.3272 27.032V25.016C70.9392 25.322 71.8932 25.736 73.3872 25.736C74.8272 25.736 75.7812 24.98 75.7812 23.846C75.7812 22.514 74.6652 21.722 72.6852 21.722H72.2532V19.994H72.8112C74.3592 19.994 75.5652 19.256 75.5652 18.104ZM79.999 19.508C79.999 18.752 80.503 18.266 81.277 18.266C82.033 18.266 82.555 18.752 82.555 19.508C82.555 20.246 82.033 20.732 81.277 20.732C80.503 20.732 79.999 20.246 79.999 19.508ZM79.999 26.51C79.999 25.754 80.503 25.268 81.277 25.268C82.033 25.268 82.555 25.754 82.555 26.51C82.555 27.248 82.033 27.734 81.277 27.734C80.503 27.734 79.999 27.248 79.999 26.51ZM84.4382 21.02C84.4382 17.24 86.4182 14.306 89.5322 14.306C92.6642 14.306 94.6262 17.24 94.6262 21.02C94.6262 24.8 92.6642 27.734 89.5322 27.734C86.4182 27.734 84.4382 24.8 84.4382 21.02ZM86.7242 21.02C86.7242 23.774 87.7862 25.646 89.5322 25.646C91.2962 25.646 92.3582 23.774 92.3582 21.02C92.3582 18.266 91.2962 16.394 89.5322 16.394C87.7862 16.394 86.7242 18.266 86.7242 21.02ZM96.223 17.222V15.098C96.871 14.648 97.915 14.306 99.139 14.306C101.893 14.306 103.639 16.088 103.639 18.608C103.639 21.11 101.713 23.18 99.643 25.574H104.233V27.5H95.539C98.851 23.684 101.029 21.344 101.245 19.058C101.299 18.554 101.245 18.104 101.101 17.726C100.795 16.88 100.003 16.394 98.869 16.394C97.771 16.394 96.799 16.79 96.223 17.222Z" fill="#3D3936"></path>
<rect x="121" width="40" height="40" rx="20" fill="#F7F7F7"></rect>
<path d="M135 27C134.448 27 134 26.5523 134 26V14C134 13.4477 134.448 13 135 13H147C147.552 13 148 13.4477 148 14V15.25C148 15.8023 148.448 16.25 149 16.25C149.552 16.25 150 15.8023 150 15.25V14C150 12.3431 148.657 11 147 11H135C133.343 11 132 12.3431 132 14V26C132 27.6569 133.343 29 135 29H138.714C139.267 29 139.714 28.5523 139.714 28C139.714 27.4477 139.267 27 138.714 27H135Z" fill="#3D3936"></path>
<path d="M146 16C146 16.5523 145.552 17 145 17H137C136.448 17 136 16.5523 136 16C136 15.4477 136.448 15 137 15H145C145.552 15 146 15.4477 146 16ZM140 21C140.552 21 141 20.5523 141 20C141 19.4477 140.552 19 140 19H137C136.448 19 136 19.4477 136 20C136 20.5523 136.448 21 137 21H140Z" fill="#3D3936"></path>
<path d="M150.282 16.9746C150.809 16.9792 151.314 17.1908 151.687 17.5635C152.059 17.9361 152.271 18.4408 152.275 18.9678C152.28 19.4945 152.077 20.0019 151.711 20.3809L144.597 27.498C144.529 27.5657 144.449 27.6181 144.36 27.6523L144.27 27.6807L141.815 28.2598C141.763 28.2722 141.71 28.2778 141.656 28.2764C141.554 28.2746 141.452 28.2507 141.36 28.2051C141.268 28.1594 141.188 28.0934 141.124 28.0127C141.06 27.9319 141.015 27.8376 140.992 27.7373C140.969 27.6371 140.969 27.5329 140.991 27.4326H140.992L141.572 24.9795C141.602 24.856 141.665 24.7431 141.755 24.6533L148.869 17.5391L149.017 17.4092C149.375 17.1253 149.821 16.9707 150.282 16.9746ZM150.273 18.373C150.117 18.3644 149.962 18.4124 149.839 18.5098L146.348 22.001L142.86 25.4854L142.535 27.0762L143.759 26.3887L150.739 19.4102C150.837 19.2874 150.886 19.1331 150.877 18.9766C150.868 18.8193 150.802 18.6709 150.69 18.5596C150.579 18.4482 150.431 18.3819 150.273 18.373Z" fill="#3D3936" stroke="#3D3936" stroke-width="0.05"></path>
</svg></div>
        
        <button
          className="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center border flex-shrink-0"
          aria-label="settings"
        >
         <svg className="w-5 h-5 sm:w-6 sm:h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.32129 3C6.52701 3 4.87029 3.96143 3.98007 5.51931L1.65878 9.58156C1.22708 10.3371 1 11.1921 1 12.0623V16C1 18.7614 3.23858 21 6 21H18C20.7614 21 23 18.7614 23 16V12.0623C23 11.1921 22.7729 10.3371 22.3412 9.58156L20.0199 5.51931C19.1297 3.96143 17.473 3 15.6787 3H8.32129ZM5.71656 6.51158C6.25069 5.57686 7.24472 5 8.32129 5H15.6787C16.7553 5 17.7493 5.57686 18.2834 6.51158L20.2768 10H16C14.8954 10 14 10.8954 14 12C14 12.5523 13.5523 13 13 13H11C10.4477 13 10 12.5523 10 12C10 10.8954 9.10457 10 8 10H3.72318L5.71656 6.51158ZM3.00065 12C3.00022 12.0207 3 12.0415 3 12.0623V16C3 17.6569 4.34315 19 6 19H18C19.6569 19 21 17.6569 21 16V12.0623C21 12.0415 20.9998 12.0207 20.9994 12H16C16 13.6569 14.6569 15 13 15H11C9.34315 15 8 13.6569 8 12H3.00065Z" fill="#3D3936"/>
<circle cx="18" cy="4" r="3.5" fill="#FF5100" stroke="white"/>
</svg>

        </button>
        <div className="w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-slate-300 flex items-center justify-center text-xs font-semibold flex-shrink-0">
        <img src="/assets/top-img.png" alt="avatar" className="w-full h-full rounded-full object-cover" />

        </div>
      </div>
    </header>
  );
}
